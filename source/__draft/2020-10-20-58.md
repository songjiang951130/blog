---
title: 58-interview
categories:
  - 分类
tags:
  - 标签1
  - 标签2
---

## ThreadLocal
用于线程隔离的存取数据
## Redis 淘汰策略，Redis 底层结构，分布式锁
 - noeviction(默认策略)：对于写请求不再提供服务，直接返回错误（DEL请求和部分特殊请求除外）

- allkeys-lru：从所有key中使用LRU算法进行淘汰

- volatile-lru：从设置了过期时间的key中使用LRU算法进行淘汰
- allkeys-random：从所有key中随机淘汰数据
- volatile-random：从设置了过期时间的key中随机淘汰
- volatile-ttl：在设置了过期时间的key中，根据key的过期时间进行淘汰，越早过期的越优先被淘汰

链接：https://juejin.im/post/6844903927037558792
来源：掘金


## CMS 和 G1选型

G1适合大内存上的老年代搜集优化，实现更少的停顿。

什么情况下应该考虑使用G1
参考官方文档：

1. 实时数据占用超过一半的堆空间
2. 对象分配或者晋升的速度变化大
3. 希望消除长时间的GC停顿（超过0.5-1秒）

## TCP 和 UDP 区别


## 顺序消息
https://www.cnblogs.com/qdhxhz/p/11134903.html

分为局部有序（订单的多个过程（创建，支付，推送，完成顺序场景））还是全局有序(设定消息仅入一个队列)


生产端顺序靠 相同消息（orderId）的不同事件顺序进入topic，然后hash进入 topic下不同的messageQueue
消费端单线程消费(rocket mq 会)