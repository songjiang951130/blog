---
title: CAS篇
categories:
  - 并发
tags:
  - cas
---
## CAS(compareAndSwap)
`compareAndSwapInt(Object o, long offset,int expected,int x)`,对象o在内存中的值为期望值 expected,那么把o替换为x。CAS实现了无锁化更新，在并发争用较低的场景下实现快速的数据更新。

应用场景，状态修改。HashMap 1.8 table空节点插入

### ABA 问题
变量 为20时，被其他线程更改后变成;
无法感知数据变化
AtomicStampedReference加时间戳（版本号解决）


## 参考链接
[cas和锁](https://juejin.im/post/6844904058315243527)